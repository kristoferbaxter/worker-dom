let e,g;function k(a){e=new Map([[1,a],[2,a]]);g=a}function l(a){if(a[0]===Node.TEXT_NODE){var b=document.createTextNode(a[5]);m(b,a[7]);return b}const c=(b=a[6])?document.createElementNS(b,a[1]):document.createElement(a[1]);(a[2]||[]).forEach((a)=>{a.namespaceURI?c.setAttributeNS(a.namespaceURI,a.name,a.value):c.setAttribute(a.name,a.value)});(a[4]||[]).forEach((a)=>{0===a[8]&&c.appendChild(l(a))});m(c,a[7]);return c}function n(a){return(a=e.get(a))&&"BODY"===a.nodeName?g:a}
function m(a,b){a._index_=b;e.set(b,a)}
function p(a){return Promise.all([fetch(__WORKER_DOM_URL__).then((a)=>a.text()),fetch(a).then((a)=>a.text())]).then(([a,c])=>{const b=[];for(let a in document.body.style)b.push(`'${a}'`);return new Worker(URL.createObjectURL(new Blob([`\n        'use strict';\n        ${a}\n        (function() {\n          var self = this;\n          var document = this.document;\n          var localStorage = this.localStorage;\n          var location = this.location;\n          var defaultView = document.defaultView;\n          var Node = defaultView.Node;\n          var Text = defaultView.Text;\n          var Element = defaultView.Element;\n          var SVGElement = defaultView.SVGElement;\n          var Document = defaultView.Document;\n          var Event = defaultView.Event;\n          var MutationObserver = defaultView.MutationObserver;\n\n          function addEventListener(type, handler) {\n            return document.addEventListener(type, handler);\n          }\n          function removeEventListener(type, handler) {\n            return document.removeEventListener(type, handler);\n          }\n          this.appendKeys([${b}]);\n          ${c}\n        }).call(WorkerThread.monkey);`])))}).catch(()=>null)}
const q=[],r=(a,b)=>{b&&"value"in b&&null===b.onchange&&(b.onchange=()=>{a.postMessage({9:5,36:{7:b._index_,18:b.value}})})},t=(a,b)=>(c)=>{var d=c.currentTarget;d&&"value"in d&&(d=c.currentTarget,a.postMessage({9:5,36:{7:d._index_,18:d.value}}));a.postMessage({9:1,35:{7:b,22:c.bubbles,23:c.cancelable,24:c.cancelBubble,25:{7:c.currentTarget._index_,8:1},26:c.defaultPrevented,27:c.eventPhase,28:c.isTrusted,29:c.returnValue,10:{7:c.target._index_,8:1},
30:c.timeStamp,9:c.type}})};function u(a,b){const c=b[10][7],d=n(c),f=d&&"value"in d;let h=null!==d.onchange;(b[21]||[]).forEach((a)=>{"change"===a[9]&&(h=!1);d.removeEventListener(a[9],q[a[32]])});(b[20]||[]).forEach((b)=>{"change"===b[9]&&(h=!0,d.onchange=null);d.addEventListener(b[9],q[b[32]]=t(a,c))});f&&!h&&r(a,d)}const v=(a)=>0<a.length&&[].every.call(a,(a)=>3===("nodeType"in a?a.nodeType:a[0]));
function w(a,b,c){const d=[];a.forEach((a)=>{2===a[9]&&void 0!==a[11]?(a[11]||[]).forEach((d,f)=>{0===d[8]&&(f=n(a[10][7]).childNodes[f]||b,x(f,d,b,c))}):4===a[9]&&d.push(a)});d.forEach((a)=>u(c,a))}function y(a,b,c,d){b[5]&&(a.textContent=b[5]);m(a,b[7]);r(d,a);(b[4]||[]).forEach((b,h)=>x(a.childNodes[h],b,c,d))}
function x(a,b,c,d){a.childNodes.length!==(b[4]||[]).length?v(a.childNodes)?b[5]?(a.textContent=b[5],m(a,b[7])):v(b[4]||[])&&(a.removeChild(a.childNodes[0]),(b[4]||[]).forEach((c)=>{c=document.createTextNode(c[5]);a.appendChild(c);m(c,b[7])})):(b[4]||[]).filter((a)=>!(3===a[0]&&""===a[5])).length===a.childNodes.length&&y(a,b,c,d):y(a,b,c,d)}let z=[],A=!1,B;
const C={2(a,b){const c=n(a[10][7]);var d=a[12];d&&d.forEach((a)=>c.removeChild(n(a[7])));d=a[11];const f=a[14];d&&d.forEach((a)=>{let d=n(a[7]);d||(d=l(a),b&&b.sanitize(d));c.insertBefore(d,f&&n(f[7])||null)})},0(a,b){const c=a[15],d=a[18];null!=c&&null!=d&&(a=n(a[10][7]),b&&!b.validAttribute(a.nodeName,c,d)||a.setAttribute(c,d))},1(a){const b=a[18];b&&(n(a[10][7]).textContent=b)},3(a,b){const c=a[17],d=a[18];c&&d&&(a=n(a[10][7]),!b||b.validProperty(a.nodeName,c,d))&&(a[c]=d)},4(a){u(B,
a)}};function D(a,b){z=z.concat(a);A||(A=!0,requestAnimationFrame(()=>E(b)))}function E(a){const b=z.length;z.forEach((b)=>C[b[9]](b,a));z.splice(0,b);A=!1}function F(a,b){const c=a.getAttribute("src");null!==c&&p(c).then((c)=>{null!==c&&(k(a),B=c,c.onmessage=({data:d})=>{switch(d.type){case 2:w(d.mutations,a,c);break;case 3:D(d.mutations,b)}})})}var upgradeElement=function(a){F(a)};export{upgradeElement};
//# sourceMappingURL=index.mjs.map
